using System;using System.Collections;using UnityEngine;using UnityEngine.EventSystems;namespace Memory.MonoBehaviours{    public class MemoryCard : MonoBehaviour    {        public event Action<int> Selected;        [SerializeField]        private SpriteRenderer _frameRenderer;        [SerializeField]        private SpriteRenderer _animalRenderer;        private int _pairIndex;        //TODO: MOVE THIS FIELD TO GAMEPLAY SETTINGS        [SerializeField]        private float _cardFlipDuration;        public void Init(int index, Sprite frame, Sprite animal)        {            _frameRenderer.sprite = frame;            _animalRenderer.sprite = animal;            _pairIndex = index;        }        public void OnMouseDown()        {            StartCoroutine(FlipCard());            Selected?.Invoke(_pairIndex);        }        private IEnumerator FlipCard()        {            yield return StartCoroutine(FlipNinetyCoroutine());            _animalRenderer.enabled = !_animalRenderer.enabled;            StartCoroutine(FlipNinetyCoroutine());        }        private IEnumerator FlipNinetyCoroutine()        {            float t = 0;            Vector3 currentRotation = transform.rotation.eulerAngles;            while (t <= 1)            {                t += Time.deltaTime / _cardFlipDuration;                float lerpedY = Mathf.Lerp(currentRotation.y, currentRotation.y + 90, t);                transform.rotation = Quaternion.Euler(currentRotation.x, lerpedY, currentRotation.z);                yield return null;            }        }    }}